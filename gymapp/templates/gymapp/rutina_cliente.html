{% extends "gymapp/base.html" %}
{% load static %}

{% block content %}
<div class="container mt-4">
    <div class="d-flex justify-content-between align-items-center mb-4">
        <h2 class="m-0">Rutinas de {{ member.nombre_apellido }}</h2>
        <!-- Botón Volver -->
        <a href="{% url 'member_list' %}" class="btn btn-outline-secondary">
            <i class="bi bi-arrow-left"></i> Volver a la lista de socios
        </a>
    </div>

    <!-- Tipos de rutinas -->
    <h4 class="mb-3 text-center">Elegí un tipo de rutina</h4>
    <div class="d-flex flex-wrap justify-content-center gap-3 mb-4">
        <a href="{% url 'crear_rutina' member.id 'Hipertrofia' %}" class="btn btn-outline-primary btn-lg">Hipertrofia</a>
        <a href="{% url 'crear_rutina' member.id 'Acondicionamiento físico' %}" class="btn btn-outline-primary btn-lg">Acondicionamiento físico</a>
        <a href="{% url 'crear_rutina' member.id 'Deportista avanzado' %}" class="btn btn-outline-primary btn-lg">Deportista avanzado</a>
        <a href="{% url 'crear_rutina' member.id 'Edad temprana' %}" class="btn btn-outline-primary btn-lg">Edad temprana</a>
        <a href="{% url 'crear_rutina' member.id 'Fuerza base' %}" class="btn btn-outline-primary btn-lg">Fuerza base</a>
        <a href="{% url 'crear_rutina' member.id 'Original' %}" class="btn btn-outline-primary btn-lg">Original</a>
    </div>

    <!-- Historial de rutinas -->
    <h4 class="mb-3">Historial de Rutinas</h4>
    <div class="historial-rutinas">
        {% for rutina in rutinas %}
            <div class="card shadow-sm mb-3">
                <div class="p-3 d-flex justify-content-between align-items-center">
        <span>
            <strong>{{ rutina.get_estructura_display }}</strong>
            {% if rutina.semana %}- Semana {{ rutina.semana }}{% endif %}
            - {{ rutina.fecha_creacion|date:"d/m/Y H:i" }}
        </span>
                    <div>
                        <a href="{% url 'editar_rutina' rutina.id %}" class="btn btn-sm btn-outline-secondary me-1">
                            <i class="bi bi-pencil"></i> Editar
                        </a>
                        <a href="{% url 'eliminar_rutina' rutina.id %}" class="btn btn-sm btn-outline-danger" onclick="return confirm('¿Seguro que querés eliminar esta rutina?');">
                            <i class="bi bi-trash"></i> Eliminar
                        </a>
                    </div>
                </div>
            </div>
        {% empty %}
            <div class="card shadow-sm mb-3 p-3 text-center text-white">No hay rutinas registradas.</div>
        {% endfor %}
    </div>
</div>
{% endblock %}


